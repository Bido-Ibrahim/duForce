<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,800&display=swap" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/js/all.min.js" crossorigin="anonymous"></script>

    <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
    <script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v18.0" nonce="A8mSyCnv"></script>
    <title>Graph Application</title>
    <style>
      :root {
        --main-bg-color: black;
        --text-color: white;
        --text-hover-color: #ddd;
      }

      body {
        padding: 0px;
        margin: 0px;
        background-color: var(--main-bg-color);
        font-family: "Lato", sans-serif;
        position: relative;
        overflow: hidden;
      }

      h2 {
        font-family: "Montserrat", sans-serif;
        padding: 0px 5px;
        margin: 0px;
        color: var(--text-color);
      }

      h3 {
        font-family: "Montserrat", sans-serif;
        font-size: 0.9rem;
        padding: 0px 5px;
        margin: 0px;
      }

      p {
        font-family: "Lato", sans-serif;
        font-size: 0.7rem;
        padding: 0px 5px;
        margin: 0px;
        color: var(--text-color);
      }

      span {
        font-family: "Lato", sans-serif;
        font-size: 0.7em;
      }

      th, td {
          border: 0.5px solid #A0A0A0;
          padding: 3px;
          text-align: center;
      }
      th {
          background-color: #D0D0D0;
      }
      td {
          text-align: center;
      }

       select {
        font-family: "Montserrat", sans-serif;
        padding: 6px 16px;
        margin: 5px;
        border: 2px solid var(--text-color);
        background-color: var(--main-bg-color);
        color: var(--text-color);
        cursor: pointer;
        font-size: 12px;
      }




      /* Style search box and its contents */
      #search-container,#search-container-sp-end {
        /* position: absolute;
        display: flex;
        top: 0px;
        right: 20px; */
        width: 254px;
        height: 60px;
        margin: 2px;
        position: relative;

      }
      #search-container{
          top: 5px;
          z-index: 160;
      }
      #search-container-sp-end{
            z-index: 70;
        }
      #search-input,#search-input-sp-end {
        font-family: "Lato", sans-serif;
          padding: 10px;
        width: 160px;
        border: 2px solid var(--text-color);
        background-color: var(--main-bg-color);
        color: var(--text-color);
        font-size: 16px;
      }
      #search-container-sp-end{
          display: none;
      }

      #search-input-sp-end{
          position: absolute;
          top: -10px;
      }
      #suggestions-container, #suggestions-container-sp-end {
        /* position: absolute;
        top: 100%;
        left: 0;
        width: 100%; */
        width: 254px;
        border: 1px solid var(--text-color);
        background-color: var(--text-color);
        color: var(--main-bg-color);
        display: none;
        max-height: 200px;
        overflow-y: auto;
        position: relative;
        z-index: 500;
      }


      .suggestion {
        padding: 10px;
        cursor: pointer;
      }

      .suggestion:hover {
        background-color: var(--text-hover-color);
      }

      /* Style the tabbed component */
      #search-tab-container {
          position: absolute;
          right: 20px;
          top: 20px;
          background-color: var(--main-bg-color);
          color: var(--text-color);
          border: 1px solid var(--text-color);
          padding: 10px;
          width: 330px;
          min-width: 330px;
          height: auto;
          max-height: calc(100vh - 60px);
          z-index: 10;
      }

      /* Style the tabbed component */
      #tabbed-component {
          position: relative;
          background-color: transparent;
          border: 0px ;
          padding: 0px;
          width: 330px;
          min-width: 330px;
          height: calc(100vh - 100px - 10px);
          z-index: 90;
      }


#nnDegreeDiv{
    position: absolute;
    top: 90px;
    left: 12px;
    align-items: center;
    display: none;
}

      input[type="range"] {
          width: 100px;
          margin-left: 5px;
          margin-right: 0px;
          vertical-align: middle;
      }
      #nnDegreeLabel {
          margin: 0px;
          padding: 0px;
          vertical-align: middle; /* Ensures the label is aligned with the slider */
          line-height: 1
      }

      #nnDegreeValue {
          margin-left: 5px; /* Adds space between the slider and the value display */
          font-weight: bold; /* Optional, to highlight the value */
          font-size: 14px;
          vertical-align: middle;
      }

      #zoom-button-component {
          position: relative;
          border: 0px solid transparent;
          background-color: var(--main-bg-color);
          z-index: 400;
      }

      #zoom-in {
          left: 5px;
      }

      #zoom-out {
          left: 33px;
      }

      #zoom-to-fit {
          left: 61px;
      }

      .zoom-button {
          position: absolute;
      top: calc(100vh - 32px);
          width: 25px;
          height: 25px;
          border: 1px solid white;
          background-color: transparent;
          color: white;
          font-size: 12px;
          border-radius: 2px;
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          transition: background-color 0.3s;
          z-index: 350;
      }

      .toolbar-button {
          width: 43px;
          height: 43px;
          border: 1px solid white;
          background-color: transparent;
          color: white;
          font-size: 20px;
          border-radius: 2px;
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          transition: background-color 0.3s;
          z-index: 350;
      }

      .dropdown-menu {
          display: none;
          position: absolute;
          top: 80px;
          right: 0;
          background: #333;
          border: 1px solid white;
          border-radius: 3px;
          padding: 5px;
          box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.2);
          z-index: 120;
      }

      .dropdown-span{
          margin-left: 10px;
          font-size: 14px;
      }
      .dropdown-item {
          display: flex;
          align-items: center;
          background: transparent;
          color: white;
          border: none;
          padding: 10px 10px;
          cursor: pointer;
          width: 100%;
          text-align: left;
      }
      .dropdown-item i {
          margin-right: 20px;
      }
      .dropdown-item:hover {
          color: #A0A0A0;
          background-color: #484848;
      }
      .toolbar-container:hover .dropdown-menu {
          display: block;
      }
      .toolbar-container {
          position: relative;
          display: inline-block;
      }

      #layout-button {
          position: absolute;
          top: 35px;
          right: 6px;
      }
      #show-arrows-button {
          position: absolute;
          top: 35px;
          right: 55px;
      }
      #hide-single-button {
          position: absolute;
          top: 35px;
          right: 105px;
      }

      .toolbar-button:hover, .zoom-button:hover {
          background-color: #484848;
      }
      .toolbar-button i {
          pointer-events: none;
          color: white;
          font-size: 50px;
      }

      /* Link to show tabbed component */
      #showInfo, #hideInfo {
        position: absolute;
        top: 73px;
        right: 10px;
        padding: 12px 0px 0px 8px;
        cursor: pointer;
        font-size: 15px;
      }
      #helpInfo{
          left: 5px;
      }

      #downloadImage {
          left: 35px;
      }
      #helpInfo, #downloadImage {
          position: absolute;
          top: 74px;
          padding: 12px 0px 0px 8px;
          cursor: pointer;
          font-size: 20px;
      }


      .hidden {
        display: none;
      }


      .animation-container {
          display: flex;
          flex-wrap: wrap;
          justify-content: center; /* Horizontally center content */
          align-items: center;     /* Vertically center content */
          gap: 30px;
          padding: 20px;
          min-height: 100vh;        /* Ensure the container takes up at least 100% of the viewport height */
          box-sizing: border-box;   /* Include padding in the element's total width and height calculation */

      }

      .loading-animation {
          color: white;
          text-align: center;
      }

      /* Nodes Pulsing Animation */
      .nodes-pulse {
          width: 250px;
          height: 200px;
          position: relative;
      }

      .nodes-pulse .node {
          position: absolute;
          width: 30px;
          height: 30px;
          border-radius: 50%;
          z-index: 10;
          animation: pulse 1.5s infinite ease-in-out;
      }

      .nodes-pulse .link {
          position: absolute;
          height: 0.75px;
          z-index: 5;
          transform-origin: left;
      }

      .link{
          background-color: #A0A0A0;
      }

      .nodes-pulse .node:nth-child(1) {
          background-color: #418BFC;
          top: 20px;
          left: 70px;
          animation-delay: 0s;
      }
      .nodes-pulse .node:nth-child(2) {
          background-color: #46BCC8;
          top: 70px;
          left: 40px;
          animation-delay: 0.3s;
      }
      .nodes-pulse .node:nth-child(3) {
          background-color: #EB5E68;
          top: 50px;
          right: 50px;
          animation-delay: 0.6s;
      }
      .nodes-pulse .node:nth-child(4) {
          background-color: #BA6DE4;
          bottom: 30px;
          left: 100px;
          animation-delay: 0.9s;
      }
      .nodes-pulse .node:nth-child(5) {
          background-color: #D6AB1B;
          bottom: 60px;
          right: 70px;
          animation-delay: 1.2s;
      }

      @keyframes pulse {
          0%, 100% { transform: scale(1);  }
          50% { transform: scale(1.2);  }
      }

      #noShortestPathMessage{
          background-color: transparent;
          color: white;
          z-index: 200;
          width: 150px;
          padding: 10px; /* Optional: Add padding */
          position: fixed;
          text-align: center;
          left: calc(50vw - 75px);
          top: calc(50vh - 40px);
          visibility: hidden;
      }

      #helpInformationPanel{
          background-color: white;
          color: black;
          z-index: 200;
          width: 350px;
          height: auto;
          max-height: 600px;
          overflow-y: auto;
          padding: 10px; /* Optional: Add padding */
          position: fixed;
          text-align: left;
          left: 50px;
          top: calc(50vh - 300px);
          visibility: hidden;
      }

      input[type="radio"] {
          padding: 0px;
          margin-top: 1px;
          margin-left: 5px;
          margin-right: 3px;
      }
      label {
          display: flex;}
      #dataRadio{
          display: flex;
          padding: 0;
          margin: 0;
          width: 300px;
          font-size: 14px;
          height: 18px;
      }
    </style>
    <script type="module" crossorigin src="/duForce/assets/index-108066e5.js"></script>
  </head>
  <body>
    <div id="fb-root"></div>
   <div id="noShortestPathMessage">There is no shortest path between the selected nodes</div>

    
    <div id="zoom-button-component">
      <button class="zoom-button" id="zoom-to-fit">
        <i class="fas fa-arrow-rotate-right"></i>
      </button>
      <button class="zoom-button" id="zoom-out">
        <i class="fas fa-minus"></i>
      </button>
      <button class="zoom-button" id="zoom-in">
        <i class="fas fa-plus"></i>
      </button>

    </div>

    <div id="app"></div>

    <div class="animation-container">
      <div class="loading-animation">
        <h3>loading ...</h3>
        <div class="nodes-pulse">
          <div class="node"></div>
          <div class="node"></div>
          <div class="node"></div>
          <div class="node"></div>
          <div class="node"></div>

          <div class="link" style="
                    top: 45px;
                    left: 80px;
                    width: 50px;
                    transform: rotate(120deg);
                "></div>

          <div class="link" style="
                    top: 45px;
                    left: 85px;
                    width: 100px;
                    transform: rotate(75deg);
                "></div>

          <div class="link" style="
                    top: 85px;
                    left: 65px;
                    width: 100px;
                    transform: rotate(22deg);
                "></div>

          <div class="link" style="
                    top: 55px;
                    left: 188px;
                    width: 70px;
                    transform: rotate(108deg);
                "></div>
        </div>
      </div>
    </div>
    <div id="search-tab-container">
      <div id ="dataRadio">View:
        <label><input type="radio" class="chartDataRadio" name="chartDataRadio" value="parameter" checked>Parameters</label>
        <label><input type="radio" class="chartDataRadio" name="chartDataRadio" value="segment">Segments</label>
        <label><input type="radio" class="chartDataRadio" name="chartDataRadio" value="submodule">SubModules</label>
      </div>
      <div id="parameter-menu">
      <div id="search-container">

        <input type="text" id="search-input" placeholder="Search for variables" />
        <div id="suggestions-container"></div>
      </div>
      <div id="search-container-sp-end">
        <input type="text" id="search-input-sp-end" placeholder="Search for end node" />
        <div id="suggestions-container-sp-end"></div>
      </div>
      <div id="nnDegreeDiv">
        <label id="nnDegreeLabel" for="nnDegree">Degree</label>
        <input type="range" id="nnDegree" name="nnDegree" min="1" max="3" value="1" />
        <span id="nnDegreeValue">1</span>
      </div>
      <button class="toolbar-button" id="show-arrows-button">
        <i class="fas fa-arrows-to-eye"></i>
      </button>
      <button class="toolbar-button" id="hide-single-button">
        <i class="fas fa-user-ninja"></i>
      </button>
      <button class="toolbar-button" id="layout-button">
        <i class="fas fa-circle-nodes"></i>
      </button>
      <div class="dropdown-menu">
        <button class="dropdown-item" id="default"><i class="fas fa-circle-nodes"></i><span class="dropdown-span">Default</span></button>
        <button class="dropdown-item" id="shortestPath"><i class="fas fa-wave-square"></i><span class="dropdown-span">Shortest Path</span></button>
        <button class="dropdown-item" id="nearestNeighbour"><i class="fas fa-house-user"></i><span class="dropdown-span">Nearest Neighbour</span></button>
      </div>
       </div>
      <p class="otherButton" id="helpInfo"><i class="fa-solid fa-circle-info"></i></p>
      <p class="otherButton" id="downloadImage"><i class="fa-solid fa-circle-down"></i></p>
      <p class="viewButton" id="showInfo">Show interactive menu</p>
      <p class="viewButton hidden" id="hideInfo">Hide interactive menu</p>

      <br>
      <br>

      <div id="helpInformationPanel">
        Add your help information here.

        <h3>About International Futures (IFs) </h3>
        <br>
        International Futures is an integrated assesement model developed and maintained by the Frederick S. Pardee Insitute for International Futures, founded by Dr. Barry B. Hughes with the financial support of Frederick S. Pardee. International Futures has been in active development since the late 1970s.
        <br>
        <br>
        To explore the model please visit: <a href="https://www.ifs.du.edu/ifs/frm_MainMenu.aspx"> IFs Online</a>
        <br>
        <br>
        To read more about our history please visit: <a href="https://korbel.du.edu/pardee/content/pardee-history"> Pardee History </a>
        <br>
        <br>

      </div>

      <div id="tabbed-component">

        <div id="view" style="width: 100%; max-height: calc(100vh - 220px); height: auto; overflow-y: auto;"></div>



    </div>
    </div>

    <script>

      document.getElementById('layout-button').addEventListener('click', function(event) {
        event.stopPropagation();
        let menu = document.querySelector('.dropdown-menu');
        menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
      });

      document.addEventListener('click', function() {
        document.querySelector('.dropdown-menu').style.display = 'none';
      });

      const hideInfo = document.getElementById("hideInfo");
      const showInfo = document.getElementById("showInfo");
      const tabbedComponent = document.getElementById("tabbed-component");

      if (window.innerWidth < 1000) {
        tabbedComponent.classList.add("hidden");
        showInfo.classList.remove("hidden");
        hideInfo.classList.add("hidden");
      } else {
        tabbedComponent.classList.remove("hidden");
        showInfo.classList.add("hidden");
        hideInfo.classList.remove("hidden");
      }

      hideInfo.addEventListener("click", function () {
        tabbedComponent.classList.add("hidden");
        showInfo.classList.remove("hidden");
        hideInfo.classList.add("hidden");
      });

      showInfo.addEventListener("click", function () {
        tabbedComponent.classList.remove("hidden");
        showInfo.classList.add("hidden");
        hideInfo.classList.remove("hidden");
      });
    </script>
  </body>
</html>
